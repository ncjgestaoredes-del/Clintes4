<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <title>Cadastro de Clientes</title>
</head>
<body>

<h2>Cadastro de Cliente</h2>

<input id="nome" placeholder="Nome"><br><br>
<input id="email" placeholder="Email"><br><br>
<input id="telefone" placeholder="Telefone"><br><br>

<button onclick="salvar()">Salvar</button>

<h3>Clientes</h3>
<ul id="lista"></ul>

<script>
const API = "https://clintes4.onrender.com";

function salvar() {
  fetch(`${API}/clientes`, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      nome: nome.value,
      email: email.value,
      telefone: telefone.value
    })
  }).then(() => listar());
}

function listar() {
  fetch(`${API}/clientes`)
    .then(res => res.json())
    .then(dados => {
      lista.innerHTML = "";
      dados.forEach(c => {
        lista.innerHTML += `<li>${c.nome} - ${c.telefone}</li>`;
      });
    });
}

listar();
</script>

</body>
</html>
